#!/bin/bash

# 更新图标列表配置文件的脚本
# 用法: ./scripts/update_icons.sh
#
# 这个脚本会在开发过程中使用，用于在添加新图标后更新配置文件
# 在 CI/CD 构建过程中，各个平台的构建脚本会自动调用这个功能

set -e

# 切换到脚本所在目录的父目录（项目根目录）
cd "$(dirname "$0")/.."

echo "=========================================="
echo "更新图标列表配置文件"
echo "=========================================="

# 检查 Dart 是否可用
if ! command -v dart &> /dev/null; then
    echo "错误: Dart 未安装或未添加到 PATH"
    echo "请安装 Dart SDK 或确保它在 PATH 中"
    exit 1
fi

# 生成图标列表
echo "生成图标列表配置文件..."
dart scripts/generate_icon_list.dart

echo "=========================================="
echo "图标列表配置文件更新完成"
echo "=========================================="

